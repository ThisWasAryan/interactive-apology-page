<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I'm Really Sorry â¤ï¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Comic Sans', cursive;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #ff69b4, #ff1493, #ff69b4, #e73c7e);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            overflow: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .bg-heart {
            position: fixed;
            font-size: 2em;
            opacity: 0.15;
            animation: floatAround 15s ease-in-out infinite;
            pointer-events: none;
            color: #fff;
        }

        @keyframes floatAround {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(100px, -100px) rotate(90deg);
            }
            50% {
                transform: translate(200px, 50px) rotate(180deg);
            }
            75% {
                transform: translate(-50px, -50px) rotate(270deg);
            }
        }

        .container {
            text-align: center;
            padding: 50px 40px;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 35px;
            box-shadow: 0 25px 70px rgba(255, 105, 180, 0.5);
            max-width: 650px;
            width: 90%;
            animation: floatIn 1s ease-out;
            border: 3px solid rgba(255, 105, 180, 0.3);
            position: relative;
            z-index: 10;
        }

        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        #mainText {
            font-size: 2.8em;
            color: #e73c7e;
            margin-bottom: 50px;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(255, 105, 180, 0.3);
            animation: pulse 2s ease-in-out infinite;
            line-height: 1.5;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        .buttons {
            display: flex;
            gap: 25px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
            min-height: 200px;
            align-items: center;
            position: relative;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .buttons {
                min-height: 300px;
                flex-direction: column;
            }
        }

        button {
            font-family: 'Comic Sans MS', 'Comic Sans', cursive;
            font-size: 1.4em;
            padding: 20px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        #yesBtn {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            position: relative;
            z-index: 5;
        }

        #yesBtn:hover {
            transform: translateY(-8px) scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 20, 147, 0.5);
        }

        #noBtn {
            background: linear-gradient(135deg, #ffb6c1, #ff69b4);
            color: #fff;
            position: absolute;
            transition: all 0.15s ease-out;
            z-index: 10;
        }

        @media (max-width: 768px) {
            #noBtn {
                font-size: 1.2em;
                padding: 16px 30px;
            }
            button {
                font-size: 1.2em;
                padding: 16px 30px;
            }
        }

        #noBtn:hover {
            transform: scale(1.05);
        }

        button:active {
            transform: translateY(-2px) scale(1.02);
        }

        #emojiContainer {
            font-size: 3.5em;
            margin-top: 30px;
            animation: bounce 1s ease infinite;
            letter-spacing: 10px;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25px); }
        }

        .hidden {
            display: none;
        }

        .heart {
            position: fixed;
            font-size: 2.5em;
            animation: floatUp 4s ease-in-out;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-1000px) rotate(360deg);
            }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }

        #clickCount {
            margin-top: 20px;
            font-size: 1.1em;
            color: #e73c7e;
            font-weight: bold;
            min-height: 30px;
        }

        .sparkle {
            position: fixed;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkleAnim 1s ease-out forwards;
            z-index: 999;
        }

        @keyframes sparkleAnim {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }
    </style>
</head>
<body>
    <!-- Background floating hearts -->
    <div class="bg-heart" style="top: 10%; left: 10%; animation-delay: 0s;">â¤ï¸</div>
    <div class="bg-heart" style="top: 70%; left: 80%; animation-delay: 2s;">ğŸ’–</div>
    <div class="bg-heart" style="top: 30%; left: 85%; animation-delay: 4s;">ğŸ’•</div>
    <div class="bg-heart" style="top: 60%; left: 15%; animation-delay: 6s;">ğŸ’—</div>
    <div class="bg-heart" style="top: 20%; left: 50%; animation-delay: 8s;">ğŸ’</div>

    <div class="container">
        <div id="mainText">I'm really sorry â¤ï¸<br>Please forgive me ğŸ¥º</div>
        <div class="buttons">
            <button id="yesBtn">Okay baby, I forgive you ğŸ’–</button>
            <button id="noBtn">No, I'm still angry ğŸ˜ </button>
        </div>
        <div id="clickCount"></div>
        <div id="emojiContainer" class="hidden"></div>
    </div>

    <script>
        const mainText = document.getElementById('mainText');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const emojiContainer = document.getElementById('emojiContainer');
        const clickCount = document.getElementById('clickCount');
        const buttonsContainer = document.querySelector('.buttons');

        const sorryMessages = [
            "I'm really sorry â¤ï¸<br>Please forgive me ğŸ¥º",
            "I promise I'll never do it again ğŸ˜¢ğŸ’•",
            "You mean the world to me ğŸŒğŸ’–",
            "I can't stop thinking about how sorry I am ğŸ˜­",
            "Please give me another chance ğŸ™â¤ï¸",
            "I'll do anything to make it up to you ğŸ’",
            "You're the most important person to me ğŸ¥°",
            "I messed up, but I love you so much ğŸ’•ğŸ˜”",
            "Life isn't the same without your smile ğŸ˜¢ğŸ’–",
            "I promise to be better for you ğŸŒŸâ¤ï¸",
            "Forgive me please? I'll buy you ice cream ğŸ¦ğŸ’•",
            "I'm so so so sorry baby ğŸ˜­â¤ï¸",
            "You deserve the world and I'll give it to you ğŸŒ¹ğŸ’–",
            "Pretty please with a cherry on top? ğŸ’ğŸ¥º",
            "I'll never let you down again, I promise ğŸ’â¤ï¸"
        ];

        let currentMessageIndex = 0;
        let noClickCount = 0;
        let noButtonMoves = 0;
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const requiredMoves = 3;

        function createSparkle(x, y) {
            for (let i = 0; i < 5; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = x + (Math.random() - 0.5) * 50 + 'px';
                sparkle.style.top = y + (Math.random() - 0.5) * 50 + 'px';
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 1000);
            }
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’', 'ğŸ¥°', 'ğŸ˜'][Math.floor(Math.random() * 7)];
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.top = window.innerHeight + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }

        function moveNoButton() {
            const rect = buttonsContainer.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            const yesRect = yesBtn.getBoundingClientRect();
            const maxX = rect.width - btnRect.width - 20;
            const maxY = rect.height - btnRect.height - 20;
            
            let newX, newY;
            let attempts = 0;
            const maxAttempts = 50;
            
            // Keep trying until we find a position that doesn't overlap with Yes button
            do {
                newX = Math.random() * maxX + 10;
                newY = Math.random() * maxY + 10;
                attempts++;
                
                // Calculate if the new position would overlap with Yes button
                const noLeft = rect.left + newX;
                const noRight = noLeft + btnRect.width;
                const noTop = rect.top + newY;
                const noBottom = noTop + btnRect.height;
                
                const yesLeft = yesRect.left;
                const yesRight = yesRect.right;
                const yesTop = yesRect.top;
                const yesBottom = yesRect.bottom;
                
                // Add padding to keep buttons well separated
                const padding = 20;
                
                // Check if positions overlap
                const overlaps = !(
                    noRight + padding < yesLeft ||
                    noLeft - padding > yesRight ||
                    noBottom + padding < yesTop ||
                    noTop - padding > yesBottom
                );
                
                if (!overlaps || attempts >= maxAttempts) {
                    break;
                }
            } while (true);
            
            noBtn.style.left = newX + 'px';
            noBtn.style.top = newY + 'px';
            noBtn.style.transform = 'none';
            
            createSparkle(btnRect.left + btnRect.width/2, btnRect.top + btnRect.height/2);
            noButtonMoves++;
        }

        function initNoButton() {
            const isMobileView = window.innerWidth <= 768;
            noBtn.style.left = isMobileView ? '50%' : '70%';
            noBtn.style.top = isMobileView ? '70%' : '50%';
            noBtn.style.transform = 'translate(-50%, -50%)';
        }

        initNoButton();
        window.addEventListener('resize', initNoButton);

        // Desktop: Move on hover
        if (!isMobile) {
            noBtn.addEventListener('mouseenter', moveNoButton);
        }

        // Mobile & Desktop: Move on touch/press
        noBtn.addEventListener('touchstart', function(e) {
            if (noButtonMoves < requiredMoves) {
                e.preventDefault();
                moveNoButton();
                const movesLeft = requiredMoves - noButtonMoves;
                if (movesLeft > 0) {
                    clickCount.innerHTML = `Nice try! Tap it ${movesLeft} more time${movesLeft > 1 ? 's' : ''}! ğŸ˜`;
                }
            }
        });

        // Also trigger on mousedown for desktop click attempts
        noBtn.addEventListener('mousedown', function(e) {
            if (!isMobile && noButtonMoves < requiredMoves) {
                e.preventDefault();
                moveNoButton();
                const movesLeft = requiredMoves - noButtonMoves;
                if (movesLeft > 0) {
                    clickCount.innerHTML = `Ha! Got away! Try ${movesLeft} more time${movesLeft > 1 ? 's' : ''}! ğŸ˜`;
                }
            }
        });

        // Handle No button actual click
        noBtn.addEventListener('click', function(e) {
            // Always move button first, even if it's the final click
            if (noButtonMoves < requiredMoves) {
                e.preventDefault();
                moveNoButton();
                const movesLeft = requiredMoves - noButtonMoves;
                if (movesLeft > 0) {
                    clickCount.innerHTML = `Nice try! ${movesLeft} more time${movesLeft > 1 ? 's' : ''}! ğŸ˜`;
                }
                return;
            }

            // After required moves, register the click
            noClickCount++;
            noButtonMoves = 0;
            currentMessageIndex = (currentMessageIndex + 1) % sorryMessages.length;
            mainText.innerHTML = sorryMessages[currentMessageIndex];
            
            mainText.classList.add('shake');
            setTimeout(() => mainText.classList.remove('shake'), 500);

            if (noClickCount <= 5) {
                clickCount.innerHTML = `Come on... just click YES! ğŸ¥º (Attempts: ${noClickCount})`;
            } else if (noClickCount <= 10) {
                clickCount.innerHTML = `Please baby! I'm begging you! ğŸ˜­ (Attempts: ${noClickCount})`;
            } else {
                clickCount.innerHTML = `I can do this all day! ğŸ’ªâ¤ï¸ (Attempts: ${noClickCount})`;
            }

            createHeart();
            
            // Reset button position
            setTimeout(() => {
                initNoButton();
            }, 300);
        });

        // Handle Yes button click
        yesBtn.addEventListener('click', function() {
            mainText.innerHTML = "Yay! You forgave me! ğŸ˜ğŸ’–ğŸ¥³";
            emojiContainer.innerHTML = "ğŸ˜Šâ¤ï¸ğŸ’ƒğŸ‰âœ¨ğŸ¥°ğŸ’•ğŸŒŸğŸŠğŸ’–ğŸŒ¹ğŸ˜˜";
            emojiContainer.classList.remove('hidden');
            clickCount.innerHTML = "I LOVE YOU SO MUCH! â¤ï¸â¤ï¸â¤ï¸";
            buttonsContainer.style.display = 'none';

            for (let i = 0; i < 30; i++) {
                setTimeout(() => createHeart(), i * 150);
            }

            document.body.style.background = 'linear-gradient(-45deg, #ff69b4, #ff1493, #ff69b4, #ffc0cb, #ff69b4, #ff1493)';
        });

        // Make Yes button grow bigger as No attempts increase
        setInterval(() => {
            if (noClickCount > 3 && buttonsContainer.style.display !== 'none') {
                yesBtn.style.transform = `translateY(-8px) scale(${1.1 + (noClickCount * 0.05)})`;
            }
        }, 100);
    </script>
</body>
</html>
